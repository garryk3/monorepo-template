### Основные ветки

**master** - идентична состоянию последнего релиза

**develop** -  идентична состоянию последнего релиза + может содержать задачи разработки нового релиза

> Изменения master, develop, release веток допускаются только через пулл-реквесты, запрещено пушить изменения напрямую в ветку! (Исключение - поднятие патч версии, другого в коммите быть не должно)

### Релизные ветки

**release/x.x.x** -

Создается из ветки develop c поднятием major или minor версии.

При выборе номера версии ориентируемся на предыдущую релизную ветку.

release/1.0.0 → release/1.1.0

При выборе major или minor версии ориентируемся на совместимость изменений между релизами и реализуемый функционал.

**hotfix/x.x.x**

Создается из ветки master. Содержит изменения master + исправления дефектов конкретного релиза.

При выборе версии ориентируемся на номер релизной версии, дефекты которой исправляются, и номер предыдущей ветки с хотфикасами этого релиза.

release/1.0.0 → hotfix/1.0.0

После успешного релиза release/hotfix ветки вливаются в master, develop и, при наличии, в следующую релизную ветку.  Проставляется тэг с номером версии

Перед релизом ветки проверяются на наличие всех изменений из master ветки.

### Ветки разработки


**feature/{TASK_NAME}** - создается из ветки develop или, при наличии в задаче номера версии и соответствующей релизной ветки, из релизной ветки следующего релиза. Вливается в release ветки.

**bugfix/{TASK_NAME}** - создаются из ветки master или следующей hotfix ветки. Вливаются в release/hotfix ветки.

Пример: feature/VANALYT-695, bugfix/VANALYT-695

После успешного review кода и влива изменений ветки разработки в соответствующую release/hotfix ветку, ветка разработки удаляется.

### Текст комментариев

Каждый коммит должен содержать в теле сообщения номер задачи и описание изменения, разделенные двоеточием.

Пример:

VANALYT-695: исправления такого-то функционала

### Code review

После реализации задачи в рамках feature/bugfix ветки разработчик делает pull-request в соответствующую релизную ветку и сообщает об этом в чате разработки. Ревьюеры анализируют изменения и по результатам ставят соответствующую резолюцию.

Процесс ревью должен быть максимально быстрый и комфортный для обеих сторон.

##### Со стороны разработчика

> все конфликты изменений должны быть решены до PR

> коммиты должны проходить все проверки валидации (типизация, eslint, тесты, предварительную сборку на CI - при наличии такой опции)

pull request должен быть проверен самостоятельно с целью выявления недопустимых артефактов, оставшихся в результате разработки (console.log и тд)

если функционал изменений может быть непонятен, снабдить соответствующими комментариями (в коде или информации к pull-request)

должны соблюдаться принятые в команде правила разработки, и, при указании на таковые, должны быть внесены изменения в PR

##### Со стороны reviewer-a

Не допускается затягивание процесса review, pr должен быть просмотрен в допустимые сроки (30m-1h) после получения соответствующего уведомления в чате. Исключение - обед, занятость по срочным задачам и прочая рабочая активность, которая может быть приоритетнее. При этом необходимо дать понять разработчику, что ревью может затянуться.

Недопустимо навязывать свою точку зрения  в ходе ревью и затягивать процесс, если анализируемый код не содержит ошибок и не нарушает принятый в команде стиль разработки.

После ревью необходимо уведомить в чате разработчика, что ревью закончен.

### Исключения

Если pull-request не может быть просмотрен в краткие сроки, а задача срочная и требует незамедлительного решения, допускается мержить pull-request без ожидания резолюции ревьюера, но с уведомлением об этом в чате. Если при последующем просмотре изменений ревьюером будут найдены ошибки, разработчик обязан их незамедлительно исправить.

### Спорные вопросы по коду

Если в ходе ревью выявлены спорные вопросы (антипаттерны, разные подходы к написанию кода и тд), и стороны не согласны друг с другом, то необходимо обсудить это в чате, через видеоконференции и закрепить результат в code style с целью недопущения повторных споров по этому же вопросу и ускорения процесса ревью.

> Запрещено делать pull request, если код не проходит проверку линтинга и unt тесты
